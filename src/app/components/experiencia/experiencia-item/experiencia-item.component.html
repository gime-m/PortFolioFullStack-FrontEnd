<div class="item-container-outside" (clickOutside)="verDescripcion=false">
  <div class="item-container">


    <div class="item-logo-container">
      <img [src]="service.imagenes[object.id]" class="item-logo" *ngIf="service.imagenes[object.id]" alt="Logo de experiencia" [style.filter]="(login.isAdmin() && login.editando)? ' contrast(70%) brightness(50%)': 'none'" >

      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-briefcase-fill" viewBox="0 0 16 16" *ngIf="!service.imagenes[object.id] && !login.editando">
        <path d="M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v1.384l7.614 2.03a1.5 1.5 0 0 0 .772 0L16 5.884V4.5A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1h-3zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5z"/>
        <path d="M0 12.5A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5V6.85L8.129 8.947a.5.5 0 0 1-.258 0L0 6.85v5.65z"/>
      </svg>
      
      <button  type="button" class="btn edit-button edit-button-logo" [style.visibility]="(login.isAdmin() && login.editando)? 'visible': 'hidden'" (click)="overlayOpenImagen = true">
          <svg width="25px" height="25px" fill="currentColor" viewBox="0 0 16 16">
              <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
          </svg>
      </button>
    </div> 
  
    <h5 class="item-titulo">{{object?.titulo}}</h5>
    
    <p>{{object?.lugar}}</p>
  
    <p  *ngIf="(object?.fechaInicio != null)&&(object?.fechaFin != null)&&(object?.isCurrent==false)">{{object?.fechaInicio|date:'mediumDate'}} - {{object?.fechaFin | date:'mediumDate'}}</p>
  
    <p *ngIf="(object?.fechaInicio != null)&&(object?.isCurrent==true)">{{object?.fechaInicio | date:'mediumDate'}} - presente</p>
  
    <p *ngIf="(object?.fechaInicio != null)&&(object?.fechaFin == null)&&(object?.isCurrent==false)">{{object?.fechaInicio | date:'mediumDate'}}</p>
  
    <p *ngIf="(object?.fechaInicio == null)&&(object?.isCurrent==true)">Actualmente</p>
  
    <p *ngIf="(object?.fechaInicio == null)&&(object?.fechaFin != null)&&(object?.isCurrent==false)">{{object?.fechaFin | date:'mediumDate'}}</p>
  
    <svg (click)="verDescripcion=true" *ngIf="!login.editando" [style.visibility]="object?.descripcion? 'visible': 'hidden'" width="16" height="16" fill="currentColor" class="edit-button description-button" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"/>
    </svg>
  
    <div class="item-buttons-container" *ngIf="(login.isAdmin() && login.editando)">
      <app-edit-button class="edit-button" (click)="overlayOpen=true"></app-edit-button>
      <app-delete-button (click)="deleteItem()"></app-delete-button>
    </div>
  </div>
  
  <div *ngIf="verDescripcion" class="item-container descripcion-container" >
    
    <p>{{object?.descripcion}}</p>

    <svg (click)="verDescripcion = false" width="16" height="16" fill="currentColor" class="edit-button" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-7z"/>
    </svg>
  </div>
</div>

<app-experiencia-form [isNewItem]="false" [object]="object"  (overlayOpenEvent)="changeOverlayOpen($event)" *ngIf="overlayOpen"></app-experiencia-form>
<app-experiencia-imagen-form  [id]="object.id" (overlayOpenEvent)="changeOverlayOpenImagen($event)" *ngIf="overlayOpenImagen"></app-experiencia-imagen-form>
